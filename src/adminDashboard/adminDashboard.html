<template>
  <div class="page animated-page adminContainer au-animate ">
    <div show.bind="!loading">
      <div if.bind="!connected"><button class="button1" click.delegate="connect()">Connect...</button></div>
      <div else class="formContainer">
          <div if.bind="seeds.length">
            <div>
              <dropdown item-changed.call="setSeed(index)"
                selected-item-index.to-view="selectedSeed.metadata.general.projectName"
                placeholder="Select a Seed...">
                <div repeat.for="seed of seeds">${seed.metadata.general.projectName}</div>
              </dropdown>
            </div>
            <div if.bind="selectedSeed.address">
                <div if.bind="selectedSeed.hasEnoughProjectTokens" class="stageButton proceed button1" click.delegate="selectedSeed.fundSeed()">
                  Fund Project
                </div>
                <div class="stageButton proceed button1" click.delegate="selectedSeed.withdrawFundingTokens()">
                  Withdraw Funding Tokens
                </div>
                <div if.bind="selectedSeed.whitelisted" class="stageButton proceed button1" click.delegate="addWhitelist()">
                  Add Whitelist
                </div>
                <div if.bind="!selectedSeed.isPaused" class="stageButton proceed button1" click.delegate="selectedSeed.pauseLaunch()">
                  Pause
                </div>
                <div else class="stageButton proceed button1" click.delegate="selectedSeed.unpauseLaunch()">
                  UnPause
                </div>
                <div class="stageButton proceed button1" click.delegate="selectedSeed.closeLaunch()">
                  Close
                </div>
                <div if.bind="selectedSeed.whitelisted">
                  <div>
                    <label for="addressToRemove">Address to remove from whitelist</label>
                    <input id="addressToRemove" value.bind="addressToRemove" placeholder="0x6C4ef..." />
                  </div>
                  <div class="stageButton proceed button1" click.delegate="selectedSeed.removeFromWhitelist(addressToRemove)">
                    Remove from whitelist
                  </div>
                </div>
                <div if.bind="selectedSeed.whitelisted">
                  <div>
                    <label for="addressToAdd">Address to add from whitelist</label>
                    <input id="addressToAdd" value.bind="addressToAdd" placeholder="0x6C4ef..." />
                  </div>
                  <div class="stageButton proceed button1" click.delegate="selectedSeed.addToWhitelist(addressToAdd)">
                    Add to whitelist
                  </div>
                </div>
                <div>
                  <label for="receiverAddress">Receiver Address</label>
                  <input id="receiverAddress" value.bind="receiverAddress" placeholder="0x6C4ef..." />
                </div>
                <div class="stageButton proceed button1" click.delegate="selectedSeed.retrieveProjectTokens(receiverAddress)">
                  Retrieve Project Tokens
                </div>
            </div>
          </div>
          <div else>You have not created any Seeds</div>
      </div>
    </div>
</template>